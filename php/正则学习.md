#### 主要分类

[code](./code/pregdemo.php)

- pcre 提供库提供的函数 preg_*(提倡这个)
- posix 提供的函数 ereg_* (已不建议使用)
- pcre.backtrack_limit  最大回溯次数
-  prce.recursion_limit 最大嵌套次数

####  组成

- 分割符，表达式， 修饰符

##### 元字符

符号| 表达意思
---|---
\ |一般用于转义字符
^|断言目标的开始位置(或在多行模式下是行首)
$|断言目标的结束位置(或在多行模式下是行尾)
.|匹配除换行符外的任何字符(默认)
[|开始字符类定义
]|结束字符类定义
\||开始一个可选分支
(|子组的开始标记
)|子组的结束标记
?|作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。 (查阅量词)
*|量词，0 次或多次匹配
+|量词，1 次或多次匹配
{|自定义量词开始标记
}|自定义量词结束标记模式中方括号内的部分称为"字符类"。 在一个字符类中仅有以下可用元字符：
\ |转义字符
^|仅在作为第一个字符(方括号内)时，表明字符类取反
-|标记字符范围

##### 转义

符号| 表达意思
---|---
\d|任意十进制数字
\D|任意非十进制数字
\h|任意水平空白字符(since PHP 5.2.4)
\H|任意非水平空白字符(since PHP 5.2.4)
\s|任意空白字符
\S|任意非空白字符
\v|任意垂直空白字符(since PHP 5.2.4)
\V|任意非垂直空白字符(since PHP 5.2.4)
\w|任意单词字符
\W|任意非单词字符
\b|单词边界
\B|非单词边界
\A|目标的开始位置(独立于多行模式)
\Z|目标的结束位置或结束处的换行符(独立于多行模式)
\z|目标的结束位置(独立于多行模式)
\G|在目标中首次匹配位置
\a|响铃字符(十六进制 07)
\cx|"control-x"，x 是任意字符
\e|转义 (十六进制 1B)
\f|换页 (十六进制 0C)
\n|换行 (十六进制 0A)
\p{xx}|一个符合 xx 属性的字符，详细查看unicode properties 属性
\P{xx}|一个不符合xx属性的字符，详细查看unicode properties 属性
\r|回车 (十六进制 0D)
\t|水平制表符 (十六进制 09)
\xhh|hh十六进制编码的字符，详细查看unicode properties 属性
\ddd|ddd八进制编码的字符，或者后向引用
\040|空格的另外一种用法
\40|当提供了少于40个子组时也认为是空格。
\7|始终是后向引用
\11|可能是后向引用，也可能是制表符
\011|总是一个制表符
\0113|一个制表符紧跟着一个3(因为每次最多只读取3个8进制位
\113|八进制113代表的字符
\377|8进制377是10进制255， 因此代表一个全1的字符
\81|一个后向引用或者一个二进制 0 紧跟着两个数字 8 和 1(因为8不是8进制有效数字)

##### 量词
符号| 表达意思
---|---
*	|等价于 {0,}
+	|等价于 {1,}
?	|等价于 {0,1}

##### 模式

符号| 表达意思
---|---
i	|忽略大小写
m	| 多行模式
U	| 懒惰匹配
u | 支持utf-8转义表达
s | 使 . 包括行符
D|如果这个修饰符被设置，模式中的元字符美元符号仅仅匹配目标字符串的末尾。如果这个修饰符 没有设置，当字符串以一个换行符结尾时， 美元符号还会匹配该换行符(但不会匹配之前的任何换行符)。 如果设置了修饰符m，这个修饰符被忽略. 在 perl 中没有与此修饰符等同的修饰符。

##### 分组
类别|符号| 表达意思
---|---|---
捕获|(exp)|匹配exp 并获取文本到自动命名的组里面
---|(?\<name\>exp)|匹配exp 并获取文本到name的组里面
---|(?:exp)|匹配exp 但不捕获文本，也不分配到组里
零宽断言|(?=exp)| 匹配exp 前面的位置 (顺序肯定环视)
零宽断言|(?<=exp)| 匹配exp 后面的位置 （逆序肯定环视）
零宽断言|(?!exp)| 匹配后面跟不是exp 的位置 （顺序否定环视）
零宽断言|(?<!exp)| 匹配前面不是exp 的位置 （逆序否定环视）
注释|(?#comment)| 仅注释作用

- (exp)  ---> (?1)  这样重复引用
- (?\<name\>exp) ---> (?P>name) 这样重复引用

##### 贪婪/懒惰匹配
 
 - \*  + ? }  后+ ？ 就是尽可能少的匹配 


- 减少回溯，减少分支，环视，懒惰匹配


